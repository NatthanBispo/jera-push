<h3><%= t('jera_push.active_record.model.message.other') %></h3>

<table class="bordered">
  <thead>
    <tr>
      <th data-field="id">
        <%= t('jera_push.active_record.messages.attributes.id') %>
      </th>
      <th data-field="content">
        <%= t('jera_push.active_record.messages.attributes.content') %>
      </th>
      <th data-field="users">
        <%= t('jera_push.active_record.messages.attributes.users') %>
      </th>
      <th data-field="date">
        <%= t('jera_push.active_record.messages.attributes.date') %>
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @messages.each do |message| %>
      <tr>
        <td><%= message.id %></td>
        <td>
          <div style="display: flex; flex-direction: column;">
            <strong><%= message.title %></strong>
            <span><%= message.body %></span>
          </div>
        </td>
        <td>
          <% message.devices.map do |device| %>
            <div style="display: flex; flex-direction: column;">
              <strong><%= device.pushable.name %></strong>
              <span><%= device.pushable.email %></span>
            </div>
          <% end %>
        </td>
        <td><%= message.display_created_at %></td>
        <td><%= message.show_link %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @messages %>
